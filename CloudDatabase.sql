-- Created by Vertabelo (http://vertabelo.com)
-- Last modification date: 2020-12-02 14:02:57.385

-- tables
-- Table: CHITIETHD

CREATE DATABASE CloudDatabase
go

CREATE TABLE CHITIETHD (
    SoHD int  NOT NULL,
    MaSP int  NOT NULL,
    SoLuong int  NOT NULL,
    CONSTRAINT CHITIETHD_pk PRIMARY KEY  (SoHD,MaSP)
);

-- Table: HOADON
CREATE TABLE HOADON (
    SoHD int  NOT NULL,
    MaKH int  NOT NULL,
    NgayHD datetime  NOT NULL,
    CONSTRAINT HOADON_pk PRIMARY KEY  (SoHD)
);

-- Table: KHACHHANG
CREATE TABLE KHACHHANG (
    MaKH int  NOT NULL,
    HoTen nvarchar(50)  NOT NULL,
    DiaChi nvarchar(50)  NOT NULL,
    SDT int  NOT NULL,
    CONSTRAINT KHACHHANG_pk PRIMARY KEY  (MaKH)
);

-- Table: LOAISANPHAM
CREATE TABLE LOAISANPHAM (
    MaLoai int  NOT NULL,
    TenLoai nvarchar(50)  NOT NULL,
    CONSTRAINT LOAISANPHAM_pk PRIMARY KEY  (MaLoai)
);

-- Table: SANPHAM
CREATE TABLE SANPHAM (
    MaSP int  NOT NULL,
    TenSP nvarchar(50)  NOT NULL,
    GiaCa varchar(100)  NOT NULL,
    MaLoai int  NOT NULL,
    CONSTRAINT SANPHAM_pk PRIMARY KEY  (MaSP)
);

-- foreign keys
-- Reference: CHITIETHD_HOADON (table: CHITIETHD)
ALTER TABLE CHITIETHD ADD CONSTRAINT CHITIETHD_HOADON
    FOREIGN KEY (SoHD)
    REFERENCES HOADON (SoHD);

-- Reference: CHITIETHD_SANPHAM (table: CHITIETHD)
ALTER TABLE CHITIETHD ADD CONSTRAINT CHITIETHD_SANPHAM
    FOREIGN KEY (MaSP)
    REFERENCES SANPHAM (MaSP);

-- Reference: HOADON_KHACHHANG (table: HOADON)
ALTER TABLE HOADON ADD CONSTRAINT HOADON_KHACHHANG
    FOREIGN KEY (MaKH)
    REFERENCES KHACHHANG (MaKH);

-- Reference: SANPHAM_LOAISANPHAM (table: SANPHAM)
ALTER TABLE SANPHAM ADD CONSTRAINT SANPHAM_LOAISANPHAM
    FOREIGN KEY (MaLoai)
    REFERENCES LOAISANPHAM (MaLoai);

-- End of file.

select * from CHITIETHD; 
--Them du lieu chi tiet hoa don
INSERT INTO CHITIETHD VALUES(1,1,1)
INSERT INTO CHITIETHD VALUES(2,2,2)
INSERT INTO CHITIETHD VALUES(3,3,1)
INSERT INTO CHITIETHD VALUES(4,4,1)
INSERT INTO CHITIETHD VALUES(5,5,10)

select * from HOADON;
--Them du lieu hoa don
INSERT INTO HOADON VALUES(1,1,'2-14-2020')
INSERT INTO HOADON VALUES(2,2,'3-1-2020')
INSERT INTO HOADON VALUES(3,3,'5-28-2020')
INSERT INTO HOADON VALUES(4,5,'7-15-2020')
INSERT INTO HOADON VALUES(5,4,'10-31-2020')
INSERT INTO HOADON VALUES(6,3,'12-24-2020')

select * from KHACHHANG;
--Them du lieu khach hang
INSERT INTO KHACHHANG VALUES(1,N'Trần Vũ Hoàng',N'10 Trần Kế Xương, F.7, Q.Phú Nhuận,
TP.HCM','0905919290')
INSERT INTO KHACHHANG VALUES(2,N'Trần Quang Huy',N'436A/63 đường 3/2, P12, Q10,
HCM','01658601161')
INSERT INTO KHACHHANG VALUES(3,N'Hoàng Trung Tuấn',N'33/14 Bình Dường II An Bình Dĩ
An','1869104611')
INSERT INTO KHACHHANG VALUES(4,N'Vũ Đình Thi',N'26, Đồng Đen, P14, Q. Tân Bình,
HCM','01864840426')
INSERT INTO KHACHHANG VALUES(5,N'Võ Thanh Hà',N'45A Hòa Bình, P. Tân Thới Hòa, Q. Tân
Phú, HCM','01266864347')

select * from LOAISANPHAM;
--Them du lieu loai sp
INSERT INTO LOAISANPHAM VALUES(1,N'Máy Tính')
INSERT INTO LOAISANPHAM VALUES(2,N'Thiết Bị Tin Học')
INSERT INTO LOAISANPHAM VALUES(3,N'Thiết Bị Mạng')
INSERT INTO LOAISANPHAM VALUES(4,N'Thiết Bị Kỹ Thuật Số')
INSERT INTO LOAISANPHAM VALUES(5,N'Thiết Bị Văn Phòng')

select * from SANPHAM;
--Them  du lieu san pham
INSERT INTO SANPHAM VALUES(1,N'Laptop Macbook Pro MF841',40200000,1 )
INSERT INTO SANPHAM VALUES(2,N'Bộ nhớ DDR3 Kingston 8GB',970000,2 )
INSERT INTO SANPHAM VALUES(3,N'TPLink TL-WR841N',390000,3 )
INSERT INTO SANPHAM VALUES(4,N'Camera eView IRD2803A10H',820000,4 )
INSERT INTO SANPHAM VALUES(5,N'Máy in Canon Pixma E560',2500000,5 )